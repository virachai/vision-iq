[31m[Nest] 11412  - [39m02/12/2026, 3:35:47 PM [31m  ERROR[39m [38;5;3m[PexelsIntegrationService] [39m[31mPexels API error: 429 Rate limit exceeded[39m
[31m[Nest] 11412  - [39m02/12/2026, 3:35:47 PM [31m  ERROR[39m [38;5;3m[PexelsIntegrationService] [39m[31mPexels sync failed[39m
Rate limit exceeded
FAIL src/pexels-sync/pexels-integration.service.spec.ts
  PexelsIntegrationService
    âˆš should be defined (20 ms)
    syncPexelsLibrary
      âˆš should yield batches of images (52 ms)
      âˆš should handle single page correctly (4 ms)
      âˆš should respect rate limiting and retry on 429 (45 ms)
      Ã— should throw error after max retries (153 ms)

  â— PexelsIntegrationService â€º syncPexelsLibrary â€º should throw error after max retries

    TypeError: expect(...).toHaveBeenCalledAtLeast is not a function

    [0m [90m 153 |[39m
     [90m 154 |[39m 			[90m// Initial + 3 retries = 4 calls[39m
    [31m[1m>[22m[39m[90m 155 |[39m 			expect(mockedAxios[33m.[39m[36mget[39m)[33m.[39mtoHaveBeenCalledAtLeast([35m1[39m)[33m;[39m [90m// Check at least one[39m
     [90m     |[39m 			                        [31m[1m^[22m[39m
     [90m 156 |[39m 			expect(mockedAxios[33m.[39m[36mget[39m)[33m.[39mtoHaveBeenCalledTimes([35m4[39m)[33m;[39m
     [90m 157 |[39m 		})[33m;[39m
     [90m 158 |[39m 	})[33m;[39m[0m

      at Object.<anonymous> (src/pexels-sync/pexels-integration.service.spec.ts:155:28)

Test Suites: 1 failed, 1 total
Tests:       1 failed, 4 passed, 5 total
Snapshots:   0 total
Time:        2.065 s
Ran all test suites matching /src\\pexels-sync\\pexels-integration.service.spec.ts/i.
